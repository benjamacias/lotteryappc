<Window x:Class="LotteryApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Lotería - Clientes, Deudas y Pagos"
        Width="1100" Height="680"
        WindowStartupLocation="CenterScreen">
  <Grid Margin="12">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <DockPanel Grid.Row="0" LastChildFill="False" Margin="0,0,0,8">
      <TextBox x:Name="SearchBox" Width="320" materialDesign:HintAssist.Hint="Buscar cliente" Margin="0,0,8,0" KeyUp="SearchBox_KeyUp"/>
      <Button Content="Nuevo cliente" Click="NewClient_Click" Margin="0,0,8,0"/>
      <Button Content="Editar" Click="EditClient_Click" Margin="0,0,8,0"/>
      <Button Content="Eliminar" Click="DeleteClient_Click" Margin="0,0,8,0"/>
      <Separator Width="12"/>
      <Button Content="Agregar deuda" Click="AddDebt_Click" Margin="0,0,8,0"/>
      <Button Content="Registrar pago" Click="AddPayment_Click" Margin="0,0,8,0"/>
      <Button Content="Caja diaria" Click="CashDaily_Click" Margin="0,0,8,0"/>
      <Separator Width="12"/>
      <TextBlock x:Name="BalanceLabel" VerticalAlignment="Center" FontWeight="Bold"/>
    </DockPanel>

    <Grid Grid.Row="1">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="3*"/>
        <ColumnDefinition Width="2*"/>
        <ColumnDefinition Width="2*"/>
      </Grid.ColumnDefinitions>

      <GroupBox Header="Clientes" Margin="0,0,8,0">
        <DataGrid x:Name="ClientsGrid" AutoGenerateColumns="False" IsReadOnly="True" SelectionChanged="ClientsGrid_SelectionChanged">
          <DataGrid.Columns>
            <DataGridTextColumn Header="Nombre" Binding="{Binding Name}" Width="*" />
            <DataGridTextColumn Header="Documento" Binding="{Binding Document}" Width="180" />
            <DataGridTextColumn Header="Teléfono" Binding="{Binding Phone}" Width="140" />
            <DataGridTextColumn Header="Saldo" Binding="{Binding Balance, StringFormat=C}" Width="120" />
          </DataGrid.Columns>
        </DataGrid>
      </GroupBox>

      <GroupBox Header="Deudas" Grid.Column="1" Margin="0,0,8,0">
        <DataGrid x:Name="DebtsGrid" AutoGenerateColumns="False" IsReadOnly="True">
          <DataGrid.Columns>
            <DataGridTextColumn Header="Fecha" Binding="{Binding Date, StringFormat=d}" Width="120"/>
            <DataGridTextColumn Header="Monto" Binding="{Binding Amount, StringFormat=C}" Width="120"/>
            <DataGridTextColumn Header="Detalle" Binding="{Binding Description}" Width="*"/>
          </DataGrid.Columns>
        </DataGrid>
      </GroupBox>

      <GroupBox Header="Pagos" Grid.Column="2">
        <DataGrid x:Name="PaymentsGrid" AutoGenerateColumns="False" IsReadOnly="True">
          <DataGrid.Columns>
            <DataGridTextColumn Header="Fecha" Binding="{Binding Date, StringFormat=d}" Width="120"/>
            <DataGridTextColumn Header="Monto" Binding="{Binding Amount, StringFormat=C}" Width="120"/>
            <DataGridTextColumn Header="Medio" Binding="{Binding Method}" Width="160"/>
            <DataGridTextColumn Header="Notas" Binding="{Binding Notes}" Width="*"/>
          </DataGrid.Columns>
        </DataGrid>
      </GroupBox>
    </Grid>
  </Grid>
</Window>
