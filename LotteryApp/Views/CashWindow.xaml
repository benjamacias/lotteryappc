<Window x:Class="LotteryApp.Views.CashWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:views="clr-namespace:LotteryApp.Views"
        Title="Caja diaria" Height="450" Width="700" WindowStartupLocation="CenterOwner">
  <Grid Margin="16">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <views:HeaderControl Grid.Row="0" Margin="0,0,0,8"/>

    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,8">
      <DatePicker x:Name="DateBox" Margin="0,0,8,0" materialDesign:HintAssist.Hint="Fecha" SelectedDateChanged="DateBox_SelectedDateChanged"/>
      <Button Content="Retirar efectivo" Click="Withdraw_Click"/>
    </StackPanel>

    <Grid Grid.Row="2">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <GroupBox Header="Pagos">
        <DataGrid x:Name="PaymentsGrid" AutoGenerateColumns="False" IsReadOnly="True">
          <DataGrid.Columns>
            <DataGridTextColumn Header="Fecha" Binding="{Binding Date, StringFormat=d}" Width="100"/>
            <DataGridTextColumn Header="Cliente" Binding="{Binding Client.Name}" Width="*" />
            <DataGridTextColumn Header="Monto" Binding="{Binding Amount, StringFormat=C}" Width="100"/>
            <DataGridTextColumn Header="Medio" Binding="{Binding Method}" Width="120"/>
          </DataGrid.Columns>
        </DataGrid>
      </GroupBox>
      <GroupBox Header="Retiros" Grid.Column="1" Margin="8,0,0,0">
        <DataGrid x:Name="WithdrawalsGrid" AutoGenerateColumns="False" IsReadOnly="True">
          <DataGrid.Columns>
            <DataGridTextColumn Header="Fecha" Binding="{Binding Date, StringFormat=d}" Width="100"/>
            <DataGridTextColumn Header="Monto" Binding="{Binding Amount, StringFormat=C}" Width="100"/>
            <DataGridTextColumn Header="Detalle" Binding="{Binding Description}" Width="*"/>
          </DataGrid.Columns>
        </DataGrid>
      </GroupBox>
    </Grid>

    <TextBlock Grid.Row="3" x:Name="TotalLabel" FontWeight="Bold" HorizontalAlignment="Right"/>
  </Grid>
</Window>
